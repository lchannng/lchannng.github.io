<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>openwrt - Tag - lchannng&#39;s blog</title>
        <link>/tags/openwrt/</link>
        <description>openwrt - Tag - lchannng&#39;s blog</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Wed, 05 May 2021 18:08:44 &#43;0800</lastBuildDate><atom:link href="/tags/openwrt/" rel="self" type="application/rss+xml" /><item>
    <title>openwrt dns 配置</title>
    <link>/2021-05-05-openwrt-dns-configuration/</link>
    <pubDate>Wed, 05 May 2021 18:08:44 &#43;0800</pubDate>
    <author>Author</author>
    <guid>/2021-05-05-openwrt-dns-configuration/</guid>
    <description><![CDATA[安装依赖 自带的dnsmasq 不支持 ipset，需要安装 dnsmasq-full 才能支持所有功能，安装前先删除原来的 dnsmasq
1  $ opkg install dnsmasq-full ipset   配置dnsmasq 创建 dnsmasq.d 目录
1  $ mkdir /etc/dnsmasq.d   在 /etc/dnsmasq.conf 末尾增加 conf-dir
1 2 3 4  ... # include /etc/dnsmasq.d conf-dir=/etc/dnsmasq.d/,*.conf   配置 DNS 服务器 新建文件/etc/dnsmasq.d/dns.conf
1 2 3 4 5  # ignore /etc/resolv.conf no-resolv server=119.29.29.29 server=223.5.5.5   ipset 配置 dnsmasq 在 2.66 版之后加入了对 ipset 的支持，可将指定域名的 IP 解析后自动加入某一 ipset 中，可以结合魔法使用。]]></description>
</item><item>
    <title>Netgear R6850刷openwrt</title>
    <link>/2021-05-03-netgear-r6850-openwrt/</link>
    <pubDate>Mon, 03 May 2021 17:31:31 &#43;0800</pubDate>
    <author>Author</author>
    <guid>/2021-05-03-netgear-r6850-openwrt/</guid>
    <description><![CDATA[五一假期不想出去看人山人海，宅在家中，闲来无事更新家里的Netgear R6850路由器的OpenWrt。
之前已经把路由器刷成OpenWrt固件了，但是当时官方尚未正式支持R6850，所以动手制作了一个snapshot镜像，并刷到机器上。
最近看到openwrt-21.02.0-rc1已经正式支持R6850了（虽然是rc版本&hellip;&hellip;），so&hellip;搞起来。
1 制作固件 1.1 环境搭建 由于编译太耗时了，因此选择Image Builder来制作镜像。具体可参照 官方文档。
为了简化环境搭建、方便后续更新，把Image builder的运行环境封装在Docker镜像中，在Docker中构建OpenWrt镜像
上次刷OpenWrt的时候已经封装了一些脚本，源码放在lchannng/openwrt-builder。
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38  # openwrt-builder/DockerfileFROMdebian:buster-slimMAINTAINERlchannng &lt;lchannng@gmail.com&gt;RUN apt-get update -qq &amp;&amp;\  apt-get install -y \  build-essential \  curl \  file \  gawk \  gettext \  git \  libncurses5-dev \  libssl-dev \  python2.]]></description>
</item></channel>
</rss>
