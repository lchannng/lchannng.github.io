<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>hostapd - Tag - lchannng&#39;s blog</title>
        <link>/tags/hostapd/</link>
        <description>hostapd - Tag - lchannng&#39;s blog</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 30 May 2021 15:27:13 &#43;0800</lastBuildDate><atom:link href="/tags/hostapd/" rel="self" type="application/rss+xml" /><item>
    <title>树莓派折腾笔记：开启WiFi热点</title>
    <link>/2021-05-30-rpi-wifi/</link>
    <pubDate>Sun, 30 May 2021 15:27:13 &#43;0800</pubDate>
    <author>Author</author>
    <guid>/2021-05-30-rpi-wifi/</guid>
    <description><![CDATA[概述 印度养蛊，传进来了&hellip;
由于疫情宅在家，闲来无事折腾下手上的树莓派4B，先用hostapd + dnsmasq搭一个热点，后面再把一些魔法搞起来。
准备 之前已经给rpi装了ubuntu server 20.04，现在把一些软件装上。
1 # apt install hostapd dnsmasq 增加网桥 以桥接的方式接入树莓派的无线网卡wlan0。
ubuntu server 20.04可以通过netplan修改网络配置，netplan是基于systemd-networkd的，没有netplan可以直接修改systemd-networkd配置。非systemd的系统自行使用bridge-utils自行增加网桥。
修改/etc/netplan/50-cloud-init.yaml文件
1 2 3 4 5 6 7 8 9 10 network: ethernets: eth0: dhcp4: true optional: true bridges: brlan: dhcp4: false addresses: [ 172.17.0.1/24 ] version: 2 新增bridges这段配置，网桥名字为brlan，关掉dhcp，改成静态地址172.17.0.1/24。
hostapd配置 修改/etc/hostapd/hostapd.conf
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 interface=wlan0 # 指定网卡 bridge=brlan # 桥接到brlan ssid=[wifi名称] macaddr_acl=0 ignore_broadcast_ssid=0 auth_algs=1 wpa=2 wpa_passphrase=[wifi密码] wpa_key_mgmt=WPA-PSK wpa_pairwise=TKIP rsn_pairwise=CCMP ## 5G (树莓派的无线网卡过于辣鸡，5G隔墙就没了，还是开2.]]></description>
</item></channel>
</rss>
